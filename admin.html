<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MUTT | Central de Comando</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;700;900&display=swap');
        body { font-family: 'Inter', sans-serif; background-color: #050505; color: #fff; }
        .glass { background: rgba(255, 255, 255, 0.03); backdrop-filter: blur(10px); border: 1px solid rgba(255, 255, 255, 0.05); }
        input, select { background: #111 !important; border: 1px solid #222 !important; color: white !important; outline: none; transition: 0.3s; }
        input:focus { border-color: #fff !important; }
    </style>
</head>
<body class="min-h-screen">

    <div id="login-screen" class="fixed inset-0 z-[200] bg-black flex items-center justify-center p-6">
        <div class="w-full max-w-md p-10 glass rounded-3xl text-center">
            <img src="https://i.ibb.co/Vp8pXQk/logo-mutt.png" class="w-32 mx-auto mb-8 grayscale invert">
            <h2 class="text-xl font-black uppercase tracking-tighter mb-8 italic">Acesso Restrito</h2>
            <div class="space-y-4 text-left">
                <div>
                    <label class="text-[10px] font-bold uppercase text-zinc-500 ml-1">Usuário</label>
                    <input type="text" id="user" class="w-full p-4 rounded-xl mt-1">
                </div>
                <div>
                    <label class="text-[10px] font-bold uppercase text-zinc-500 ml-1">Senha</label>
                    <input type="password" id="pass" class="w-full p-4 rounded-xl mt-1">
                </div>
                <button onclick="fazerLogin()" class="w-full bg-white text-black py-4 rounded-xl font-black uppercase text-sm mt-4 hover:bg-zinc-200 transition">Entrar no Sistema</button>
            </div>
            <p id="login-error" class="text-red-500 text-xs mt-4 hidden">Credenciais inválidas.</p>
        </div>
    </div>

    <div id="admin-panel" class="hidden flex min-h-screen">
        <aside class="w-64 bg-black border-r border-zinc-900 p-8 hidden md:block">
            <img src="https://i.ibb.co/Vp8pXQk/logo-mutt.png" class="w-20 mb-12 grayscale invert">
            <nav class="space-y-6">
                <a href="#" class="flex items-center text-white font-bold text-sm"><i class="fa-solid fa-box mr-3"></i> ESTOQUE</a>
                <a href="#" class="flex items-center text-zinc-500 hover:text-white transition text-sm"><i class="fa-solid fa-chart-line mr-3"></i> VENDAS</a>
                <a href="#" onclick="logout()" class="flex items-center text-red-800 hover:text-red-500 transition text-sm"><i class="fa-solid fa-power-off mr-3"></i> SAIR</a>
            </nav>
        </aside>

        <main class="flex-1 p-8 md:p-12 overflow-y-auto">
            <header class="flex justify-between items-center mb-12">
                <div>
                    <h1 class="text-3xl font-black uppercase italic">Gerenciar Inventário</h1>
                    <p class="text-zinc-500 text-sm">Adicione, edite ou remova produtos em tempo real.</p>
                </div>
                <button onclick="abrirModal()" class="bg-white text-black px-6 py-3 rounded-full font-black text-xs uppercase">+ Adicionar Produto</button>
            </header>

            <div class="grid grid-cols-1 gap-4" id="lista-produtos-adm">
                </div>
        </main>
    </div>

    <div id="modal-produto" class="fixed inset-0 bg-black/90 z-[300] hidden items-center justify-center p-6 backdrop-blur-sm">
        <div class="w-full max-w-2xl glass p-10 rounded-3xl relative">
            <button onclick="fecharModal()" class="absolute top-6 right-6 text-2xl text-zinc-500 hover:text-white">&times;</button>
            <h2 id="modal-title" class="text-2xl font-black uppercase italic mb-8">Novo Produto</h2>
            
            <form id="form-produto" class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <input type="hidden" id="edit-id">
                <div class="md:col-span-2">
                    <label class="text-[10px] font-bold uppercase text-zinc-500">Nome do Produto</label>
                    <input type="text" id="p-nome" class="w-full p-3 rounded-lg" required>
                </div>
                <div>
                    <label class="text-[10px] font-bold uppercase text-zinc-500">Categoria</label>
                    <select id="p-cat" class="w-full p-3 rounded-lg">
                        <option value="camisetas">Camisetas</option>
                        <option value="jaquetas">Jaquetas</option>
                        <option value="shorts">Shorts</option>
                        <option value="acessorios">Acessórios</option>
                        <option value="calcas">Calças</option>
                    </select>
                </div>
                <div>
                    <label class="text-[10px] font-bold uppercase text-zinc-500">Preço (R$)</label>
                    <input type="number" step="0.01" id="p-preco" class="w-full p-3 rounded-lg" required>
                </div>
                <div class="md:col-span-2">
                    <label class="text-[10px] font-bold uppercase text-zinc-500">URL da Foto</label>
                    <input type="text" id="p-img" class="w-full p-3 rounded-lg" placeholder="https://imagem.com/foto.jpg">
                </div>
                <div class="md:col-span-2">
                    <button type="submit" class="w-full bg-blue-600 text-white py-4 rounded-xl font-bold uppercase hover:bg-blue-500 transition">Salvar Alterações</button>
                </div>
            </form>
        </div>
    </div>

    <script>
        // LOGIN LÓGICA
        function fazerLogin() {
            const u = document.getElementById('user').value;
            const p = document.getElementById('pass').value;
            if(u === 'admin123' && p === 'admin123') {
                document.getElementById('login-screen').style.display = 'none';
                document.getElementById('admin-panel').classList.remove('hidden');
                renderAdmin();
            } else {
                document.getElementById('login-error').classList.remove('hidden');
            }
        }

        function logout() { location.reload(); }

        // GERENCIAMENTO DE PRODUTOS
        let db = JSON.parse(localStorage.getItem('mutt_products')) || [];

        function renderAdmin() {
            const container = document.getElementById('lista-produtos-adm');
            if(db.length === 0) {
                container.innerHTML = `<p class="text-zinc-600 text-center py-20">Nenhum produto cadastrado.</p>`;
                return;
            }

            container.innerHTML = db.map(p => `
                <div class="glass p-6 rounded-2xl flex items-center justify-between group">
                    <div class="flex items-center gap-6">
                        <img src="${p.img}" class="w-16 h-20 object-cover rounded-lg border border-zinc-800">
                        <div>
                            <h3 class="font-bold uppercase text-sm">${p.nome}</h3>
                            <p class="text-zinc-500 text-xs uppercase">${p.cat} | <span class="text-white">R$ ${p.preco.toFixed(2)}</span></p>
                        </div>
                    </div>
                    <div class="flex gap-4">
                        <button onclick="editarProduto(${p.id})" class="p-3 bg-zinc-800 rounded-full hover:bg-white hover:text-black transition"><i class="fa-solid fa-pen"></i></button>
                        <button onclick="removerProduto(${p.id})" class="p-3 bg-zinc-800 rounded-full hover:bg-red-600 transition text-red-500 hover:text-white"><i class="fa-solid fa-trash"></i></button>
                    </div>
                </div>
            `).join('');
        }

        // MODAL
        function abrirModal() {
            document.getElementById('form-produto').reset();
            document.getElementById('edit-id').value = '';
            document.getElementById('modal-title').innerText = "Novo Produto";
            document.getElementById('modal-produto').classList.replace('hidden', 'flex');
        }

        function fecharModal() {
            document.getElementById('modal-produto').classList.replace('flex', 'hidden');
        }

        // SALVAR / EDITAR
        document.getElementById('form-produto').onsubmit = function(e) {
            e.preventDefault();
            const id = document.getElementById('edit-id').value;
            const novoProduto = {
                id: id ? parseInt(id) : Date.now(),
                nome: document.getElementById('p-nome').value,
                cat: document.getElementById('p-cat').value,
                preco: parseFloat(document.getElementById('p-preco').value),
                img: document.getElementById('p-img').value || 'https://via.placeholder.com/300'
            };

            if(id) {
                // Editar
                const index = db.findIndex(p => p.id == id);
                db[index] = novoProduto;
            } else {
                // Criar novo
                db.push(novoProduto);
            }

            localStorage.setItem('mutt_products', JSON.stringify(db));
            fecharModal();
            renderAdmin();
            alert("Sistema atualizado!");
        };

        function removerProduto(id) {
            if(confirm("Deseja realmente excluir este produto?")) {
                db = db.filter(p => p.id !== id);
                localStorage.setItem('mutt_products', JSON.stringify(db));
                renderAdmin();
            }
        }

        function editarProduto(id) {
            const p = db.find(prod => prod.id === id);
            document.getElementById('edit-id').value = p.id;
            document.getElementById('p-nome').value = p.nome;
            document.getElementById('p-cat').value = p.cat;
            document.getElementById('p-preco').value = p.preco;
            document.getElementById('p-img').value = p.img;
            document.getElementById('modal-title').innerText = "Editar Produto";
            document.getElementById('modal-produto').classList.replace('hidden', 'flex');
        }
    </script>
</body>
</html>
